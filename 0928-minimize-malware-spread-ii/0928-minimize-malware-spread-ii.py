class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        G, n = defaultdict(list), len(graph)
        for i in range(n):
            for j in range(i+1,n):
                if graph[i][j]:
                    G[i].append(j)
                    G[j].append(i)
        
        def dfs(curr, seen):
            if curr in seen: return 0
            total = 1
            seen.add(curr)
            for nei in G[curr]:
                total += dfs(nei, seen)
            return total
        
        ans = [n,n+1]
        for removed in initial:
            seen = {removed}
            infected = 0
            
            for other in initial:
                infected += dfs(other, seen)
            
            if infected < ans[1] or infected == ans[1] and removed < ans[0]:
                ans = [removed, infected]
                
        return ans[0]
            